<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Published date: September 2019 -->
        <!-- Template date: September 2019 -->
        <!-- Put the content ID of this OBE between the empty quotation marks for 'content' below -->
        <meta name="contentid" content="ERP Cloud Extracts Report Lab">
        <meta content="text/html; charset=utf-8" http-equiv="content-type">
        <!-- The title below is displayed on the browser tab, in search results, and in  history. It can be longer than the tutorial title in the <h1> element, below.-->
		<!-- Use an imperative verb in the title. -->
        <title>Oracle Integration - ERP Cloud Extracts Report Lab</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="robots" content="INDEX, FOLLOW">
        <meta name="description" content="ERP Cloud Extracts Report Lab">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!--link rel="stylesheet" href="css/normalize.min.css"-->
        <!--link rel="stylesheet" href="css/font-awesome.min.css"-->
        <link rel="stylesheet" href="css/obe-lite.css">
        <script src="js/jquery-1.11.0.min.js"></script>
        <script src="js/jquery-ui-1.10.4.custom.js"></script>
        <script src="js/jquery.tocify.jd.js"></script>
        <script src="js/leftnav.js"></script>
        <script type="text/javascript" src="./js/libs/require/require.js"></script>
		<script type="text/javascript" src="./js/app.js"></script> 
		<link rel="stylesheet" href="css/copy-button.css">
		<script src="js/copytoclipboard.js"></script>      
    </head>
    
    <body>
        <div id="content" style="margin-top:5px">
            <h1>Oracle Integration - ERP Cloud Extracts Lab</h1>
            <img src="img/header2.png" alt="Oracle Documentation" style="max-width: none;" height="10px" width="100%"/>
            <div class="w1024" style="clear:both; position:relative; margin-top:30px;">
                <div class="navbackwide border-right"></div>
                <div id="shownav" title="Show Navigation" tabindex="0"><span class="fa fa-list"></span></div>
                <div id="sidebar">
                    <div class="left-nav-tut">
                        <div id="hidenavw" title="Hide Navigation" tabindex="0"><span class="fa fa-close"></span></div>
                        <div id="navbar" class="left-nav-w">
                            <div id="toc" class="tocify"></div>
                        </div>
                    </div>
                </div>
                <div id="bookContainer">
                    <article>

<!-- ########## Background ########## -->
                        <section>
                            <h2>Background</h2>
                            <p>Oracle Integration provides native connectivity to Oracle and non-Oracle Software as a Service
                                (SaaS) and On-premises applications, such as Oracle ERP Cloud, Oracle Service Cloud, Oracle HCM Cloud,
                                Salesforce.com, Workday, EBS, SAP, NetSuite and so on. Oracle Integration adapters simplify best practice 
                                connectivity to these applications by handling many of the underlying technical complexities often 
                                encountererd when integrating applications.</p>
                        </section>
                        <hr>

<!-- ########## Use Case ########## -->
                        <section>
                            <h2>Use Case</h2>
                            <p>This use case explores the use of Oracle Integration to extract data from Oracle Business Intelligence Publisher (BIP). This use case includes the following steps:</p>
                            <ul>
                                <li>Get the most recent list of approved invoices.</li>
                                <li>Extract the most recent payment data and update other applications to reflect new payments.</li>
                                <li>Deliver the report to UCM or SFTP or trigger a report using ERP integration service.</li>
                            </ul>
                            <p>The data file can be larger than 10MB. Oracle Integration supports handling large files as an
                                attachment (instead of base64 encoding). We recommend that you use CSV format to reduce the size of the file.</p>
                            <p>See this <a target="_blank" href="https://blogs.oracle.com/fmw/oracle-integration-cloud-oic-file-based-integration-best-practices"><em>blog article</em></a> to learn how to handle files from various interfaces and file size constraints.</p>
                            <p> The following diagram shows the interaction between the systems involved in this use case.</p>
                            <p><img src="img/screenshots/ERP/bulk-export-callback.png" width="650px"/></p>
                        </section>
                        <hr>
                        
<!-- ########## Before You Begin ########## -->
                        <section>
                            <h2>Before You Begin</h2>

                            <p>Some steps in this tutorial have a <img src="img/copy-to-clipboard.png" alt="Copy to Clipboard"
                                                                    height="19px" width="19px"> icon next to them. Click this
                                icon to copy the snippet of text to your clipboard and then paste where needed.</p>
                            <p>Your instructor will provide you the information you need to access the environments used in this
                                lab.</p>
                                <hr>
                            <p>For this lab we will provide you the following:</p>
                            <ul>
                                <li>Oracle Integration</li>
                                <li>ERP Cloud</li>
                                <li>FTP Server</li>
                            </ul>
                            <hr>

                            <h3>Get Your Oracle Integration (OIC) Environment</h3>
                            <p>Select your OIC Environment and enter your User Number to get the information needed to access Oracle Integration.</p>
                            <p>Select your <strong>OIC environment</strong>:&nbsp;
                                <a name=oicEnvironment>
                                    <select data-bind="options: availableOICEnvironments,
                                        optionsText: 'name',
                                        value: selectedOICEnvironment,
                                        optionsCaption: 'Select...'">
                                    </select>
                                </a>
                            </p>
                            <p>
                                <label><a name=userNumber><strong>User Number</strong></a>:&nbsp;<input
                                data-bind="value: user_number" type="text" placeholder="User Number"/></label>&nbsp;<button>OK</button>
                            </p>
                        
                            <ul>
                                <li> 
                                    <strong>OIC URL</strong>:
                                    <div data-bind="attr: {style: selectedOICEnvironment() ? 'display:initial' : 'display:none'}">  
                                        <p>                                    
                                            <a class="allow-copy" target="_blank"
                                                data-bind="attr: { href: selectedOICEnvironment()? selectedOICEnvironment().url : '' }">
                                                <span>
                                                    <p><em data-bind="text: selectedOICEnvironment()? selectedOICEnvironment().url : 'Select an OIC Environment above.'"></em></p>
                                                </span>
                                            </a>
                                        </p>
                                    </div>
                                    <div data-bind="attr: {style: selectedOICEnvironment() ? 'display:none' : 'display:initial'}">  
                                        <p class="warning-text">
                                            <a style="color: #e3503c" href="#oicEnvironment">
                                                Select your OIC Environment to get your OIC URL.
                                            </a>
                                        </p>
                                    </div>
                                </li>

                                <li><strong>OIC User Name</strong>:
                                    <div data-bind="attr: {style: selectedOICEnvironment() && user_number() ? 'display:initial' : 'display:none'}">  
                                        <p>    
                                            <code class="allow-copy">                           
                                                <span>
                                                    <p><em data-bind="text: selectedOICEnvironment() && user_number() ? selectedOICEnvironment().usernamePrefix + user_number() : ''"></em></p>                                       
                                                </span>
                                            </code>
                                        </p>
                                    </div>
                                    <div data-bind="attr: {style: selectedOICEnvironment() ? 'display:none' : 'display:initial'}">
                                        <p class="warning-text">
                                            <a style="color: #e3503c" href="#oicEnvironment">
                                                Select your OIC Environment to get your OIC Username.
                                            </a>
                                        </p>
                                    </div>
                                    <div data-bind="attr: {style: user_number() ? 'display:none' : 'display:initial'}">
                                        <p class="warning-text">
                                            <a style="color: #e3503c" href="#userNumber">
                                                Enter your User Number to get your OIC Username.
                                            </a>
                                        </p>
                                    </div>
                                </li>

                                <li><strong>OIC Password</strong>: Your password will be provided by the instructor.</li>
                            </ul>
                            <hr>

                            <h3>Get Your ERP Cloud Environment</h3>
                            <p>Select your ERP Payables environment to get the information needed to access Oracle ERP Cloud.</p>
                                <p><strong>ERP Cloud Environment</strong>:&nbsp;
                                    <a name=erpEnvironment>
                                        <select data-bind="options: availableAppEnvironments,
                                                    optionsText: 'name',
                                                    value: selectedAppEnvironment,
                                                    optionsCaption: 'Select...'">
                                        </select>
                                    </a>
                                </p>

                            <ul>
                                <li>
                                    <strong>ERP Cloud URL</strong>:
                                    <div data-bind="attr: {style: selectedAppEnvironment() ? 'display:initial' : 'display:none'}">  
                                        <p>    
                                            <a class="allow-copy" target="_blank"
                                            data-bind="attr: { href: selectedAppEnvironment() ? selectedAppEnvironment().url : '' }">
                                                <span>
                                                    <p><em data-bind="text: selectedAppEnvironment() ? selectedAppEnvironment().url : ''"></em></p>
                                                </span>
                                            </a>
                                        </p>
                                    </div>
                                    <div data-bind="attr: {style: selectedAppEnvironment() ? 'display:none' : 'display:initial'}">
                                        <p class="warning-text">
                                            <a style="color: #e3503c" href="#erpEnvironment">
                                                Select your ERP Cloud environment to get your ERP Cloud URL.
                                            </a>
                                        </p>
                                    </div>
                                </li>
                                <li>
                                    <strong>ERP Cloud User Name</strong>:
                                    <div data-bind="attr: {style: selectedAppEnvironment() ? 'display:initial' : 'display:none'}">  
                                        <p>   
                                            <code class="allow-copy">
                                                <span>
                                                    <p><em data-bind="text: selectedAppEnvironment() ? selectedAppEnvironment().usernamePrefix : ''"></em></p>                                       
                                                </span>
                                            </code>
                                        </p>
                                    </div>
                                    <div data-bind="attr: {style: selectedAppEnvironment() ? 'display:none' : 'display:initial'}">
                                        <p class="warning-text">
                                            <a style="color: #e3503c" href="#erpEnvironment">
                                                Select your ERP Cloud environment to get your ERP Cloud Username.
                                            </a>
                                        </p>
                                    </div>
                                </li>
                                <li><strong>ERP Cloud Password</strong>: Your password will be provided by the instructor.</li>
                            </ul>
                            <hr>

                            <h3>Get Your FTP Environment</h3>
                            <p>Select your <strong>FTP Environment</strong> to get the information to access the FTP server:</p>
                            <p><strong>FTP Environment</strong>:&nbsp;
                                <a name=ftpEnvironment>
                                    <select data-bind="options: availableFTPEnvironments,
                                                optionsText: 'name',
                                                value: selectedFTPEnvironment,
                                                optionsCaption: 'Select...'">
                                    </select>
                                </a>
                            </p>

                            <ul>
                                <li>
                                    <strong>FTP URL</strong>:
                                    <div data-bind="attr: {style: selectedFTPEnvironment() ? 'display:initial' : 'display:none'}">  
                                        <p>    
                                            <a class="allow-copy" target="_blank"
                                            data-bind="attr: { href: selectedFTPEnvironment()? selectedFTPEnvironment().url : '' }">
                                                <span>
                                                    <p><em data-bind="text: selectedFTPEnvironment()? selectedFTPEnvironment().url : 'Select an FTP Environment above.'"></em></p>
                                                </span>
                                            </a>
                                        </p>
                                    </div>
                                    <div data-bind="attr: {style: selectedFTPEnvironment() ? 'display:none' : 'display:initial'}">
                                        <p class="warning-text">
                                            <a style="color: #e3503c" href="#ftpEnvironment">
                                                Select your FTP environment to get your FTP URL.
                                            </a>
                                        </p>
                                    </div>
                                </li>
                                <li>
                                    <strong>FTP User Name</strong>:
                                    <div data-bind="attr: {style: selectedFTPEnvironment() ? 'display:initial' : 'display:none'}">  
                                        <p>   
                                            <code class="allow-copy">
                                                <span>
                                                    <p><em data-bind="text: selectedFTPEnvironment() ? selectedFTPEnvironment().usernamePrefix : 'Select an FTP environment above.'"></em></p>                                       
                                                </span>
                                            </code>
                                        </p>
                                    </div>
                                    <div data-bind="attr: {style: selectedFTPEnvironment() ? 'display:none' : 'display:initial'}">
                                        <p class="warning-text">
                                            <a style="color: #e3503c" href="#ftpEnvironment">
                                                Select your FTP environment to get your FTP Username.
                                            </a>
                                        </p>
                                    </div>
                                </li>
                                <li><strong>FTP Password</strong>: Your password will be provided by the instructor.</li>
                            </ul>

                        </section>
                        <hr>
                        
<!-- ########## Sign In ########## -->
                        <section>
                            <h2>Sign In</h2>
                            <ol>
                                <li>
                                    <p>Open your Oracle Integration instance.</p>
                                    <div data-bind="attr: {style: selectedOICEnvironment() ? 'display:initial' : 'display:none'}">  
                                        <p>                                    
                                            <a class="allow-copy" target="_blank"
                                            data-bind="attr: { href: selectedOICEnvironment() ? selectedOICEnvironment().url : '' }">
                                                <span>
                                                    <p><em data-bind="text: selectedOICEnvironment() ? selectedOICEnvironment().url : ''"></em></p>                                       
                                                </span>
                                            </a>
                                        </p>
                                    </div>
                                    <div data-bind="attr: {style: selectedOICEnvironment() ? 'display:none' : 'display:initial'}">
                                        <p class="warning-text">
                                            <a style="color: #e3503c" href="#oicEnvironment">
                                                Select your OIC Environment to get your OIC URL.
                                            </a>
                                        </p>
                                    </div>
                                </li>
                                <li><p>Enter your user name and password.</p>
                                    <div data-bind="attr: {style: selectedOICEnvironment() && user_number() ? 'display:initial' : 'display:none'}">  
                                        <p>    
                                            <code class="allow-copy">                           
                                                <span>
                                                    <p><em data-bind="text: selectedOICEnvironment() && user_number() ? selectedOICEnvironment().usernamePrefix + user_number() : ''"></em></p>                                       
                                                </span>
                                            </code>
                                        </p>
                                    </div>
                                    <div data-bind="attr: {style: selectedOICEnvironment() ? 'display:none' : 'display:initial'}">
                                        <p class="warning-text">
                                            <a style="color: #e3503c" href="#oicEnvironment">
                                                Select your OIC Environment to get your OIC Username.
                                            </a>
                                        </p>
                                    </div>
                                    <div data-bind="attr: {style: user_number() ? 'display:none' : 'display:initial'}">
                                        <p class="warning-text">
                                            <a style="color: #e3503c" href="#userNumber">
                                                Enter your User Number to get your OIC Username.
                                            </a>
                                        </p>
                                    </div>

                                    Your password will be provided by the instructor.
                                </li>
                                <li><p>Click
                                    <strong>Sign In</strong>.</p>
                                    <p>The <strong>Home</strong> page appears.</p>
                                    <p>You are now logged in and ready to use Oracle Integration.</p>
                                    <img src="img/screenshots/integration/home-page.png" width="600px"/>
                                </li>
                            </ol>

                        </section>
                        <hr>


<!-- ########## Create the Integration ########## -->
                        <section>
                            <h2>Create the ERP Bulk Extract Integration</h2>
                            <ol>
                                <li>On the <strong>Home</strong> page, click <strong>Integrations</strong>, and then click <strong>Integrations</strong>.</li>
                                <li>On the <strong>Integrations</strong> page, click <strong>Create</strong>.</li>
                                <li>In the <strong>Select Integration Style</strong> dialog, select <strong>Scheduled Orchestration</strong>.</li>
                                <li>Click <strong>Select</strong>.</li>
                                <li>In the <strong>Create New Integration</strong> dialog, configure the integration:
                                    <ol type="a">
                                        <li><p><strong>What do you want to call your integration?</strong></p>
                                            <div data-bind="attr: {style: user_number() ? 'display:initial' : 'display:none'}">  
                                                <p>  
                                                    Enter <code class="allow-copy">
                                                        <span>ERP Bulk Extract
                                                            <em data-bind="text: user_number() ? user_number() : 'Enter User Number above.'"></em>                                      
                                                        </span>
                                                    </code>
                                                </p>
                                            </div>
                
                                            <div data-bind="attr: {style: user_number() ? 'display:none' : 'display:initial'}">
                                                <p class="warning-text">
                                                    <a style="color: #e3503c" href="#userNumber">
                                                        Enter your User Number to specify your unique integration name.
                                                    </a>
                                                </p>
                                            </div>        
                                        </li>
                                        <li>
                                            <p>In the <strong>What does this integration do?</strong> field, enter:</p>
                                            <p><code class="allow-copy"><span>This integration starts the extraction of payable transactions in the ERP Cloud.</span></code></p>
                                        </li>
                                    </ol>
                                </li>
                                <li>Click <strong>Create</strong>.</li>
                            </ol>
                        </section>
                        <hr>

<!-- ########## CREATE THE INITIATE EXTRACT ACTIVITY ########## -->
                        <section>
                            <h2>Create the Initiate Extract Activity </h2>
                            <p></p>
                            <ol>
                                <li>Hover over the outgoing arrow for the <strong>Schedule</strong> activity and click
                                    <img src="img/add.png" alt="Add icon" style="height: 15px; width: 15px;"/>.
                                </li>
                                <li>In the <strong>Search</strong> field, begin typing <code class="allow-copy"><span>ERP Cloud</span></code> to find your connection.</li>
                                <li>
                                    <p>Select the connection named <code class="allow-copy"><span>ERP Cloud</span></code>.</p>
                                    <p>The <strong>Configure Oracle ERP Cloud Endpoint</strong> wizard appears.</p>
                                </li>
                                <li>Name your endpoint <code class="allow-copy"><span>InitiateExtract</span></code>.</li>
                                <li>In the <strong>What does this endpoint do?</strong> field, enter
                                    <p><code class="allow-copy"><span>This endpoint starts the extraction of payable transactions.</span></code></p>
                                </li>
                                <li>Click <strong>Next</strong>.</li>
                                <li>On the <strong>Actions</strong> page, select the <strong>Query, Create, Update or Delete Information</strong> option.</li>
                                <li>Click <strong>Next</strong>.</li>
                                <li>On the <strong>Operations</strong> page, from the <strong>Browse by</strong> list, select <strong>Services</strong>.</li>
                                <li>In the <strong>Select a Service</strong> field, enter <strong>ERPIntegrationService</strong> and select it from the list.</li>
                                <li>From the <strong>Operation to perform on the Business Object/Resource or Service</strong> list, select <strong>Export Bulk Data</strong>.</li>
                                
                                <li>
                                    <p>Click <strong>Next</strong>.</p>
                                    <p>A summary of the properties you configured appears.</p>
                                </li>
                                <li>Review the summary and click <strong>Done</strong>.</li>
                                <li>
                                    <p>On the <strong>Integration</strong> canvas, from the <strong>Layout</strong> list, select <strong>Horizontal</strong>.</p>
                                    <img src="img/screenshots/integration/horizontal-layout.png" width="600px"/>
                                </li>
                                <li>Click <strong>Save</strong>.</li>
                            </ol>

<!-- ########## Define the Data Mapping ########## -->
                            <h3>Define the Data Mapping</h3>
                            <p>A Map action named <strong>Map to InitiateExtract</strong> is automatically created. We'll define this data mapping.</p>
                            <ol>
                                <li>Select the <strong>Map to InitiateExtract</strong> action.</li>
                                <li><p>Click <img src="img/edit.png" alt="Edit icon" style="height: 15px; width: 15px;"/>.</p>
                                    <p>The <strong>Data Mapping</strong> page appears.</p>
                                </li>
                                <li>In the <strong>Target</strong> section, expand the <strong>exportBulkData</strong> element.</li>
                                <li>
                                    <p>To create a literal mapping:</p>
                                        <ol type="a">
                                            <li>Right-mouse click on the desired node and select <strong>Create Target Node</strong>.</li>
                                            <li>In the <strong>Expression</strong> editor at the bottom of the page, click the <strong>Set Text</strong> button (<strong>A</strong>)</li>
                                            <li>Verify the Expression editor title changes to <strong>Text for: </strong> your selected node name.</li>
                                            <li>Enter the literal data and click <img src="img/check.png" alt="Save icon" style="height: 15px; width: 15px;"/> in the Expression editor.</li>
                                        </ol>
                                </li>
                                <li><p>Map the fields under the <strong>exportBulkData</strong> element to the following literal values:</p>
                                    <ul>
                                        <li><strong>jobName</strong>: <code class="allow-copy"><span>oracle/apps/ess/financials/commonModules/shared/common/outbound,FinOutboundProcess</span></code></li>
                                        <li><strong>parameterList</strong>: <code class="allow-copy"><span>"92,/oracle/apps/ess/financials/commonModules/shared/common/outbound;PayablesTransactionsExtract,BIPREPORT,FULL_EXTRACT,#NULL,300000046987012,#NULL,#NULL,#NULL,#NULL,#NULL,12-19,N,N,300000046975971,#NULL,#NULL,#NULL,FULL_EXTRACT,#NULL,#NULL,#NULL,PayablesTransactionsExtract,#NULL"</span></code></li>
                                        <li><strong>jobOptions</strong>: <code class="allow-copy"><span>ExtractFileType=ALL</span></code></li>
                                        <li><strong>callbackURL</strong>: leave empty. We will assign a value after we design and activate the callback flow.</li>
                                        <li><strong>notificationCode</strong>: <code class="allow-copy"><span>30</span></code></li>
                                    </ul>
                                </li>
                                <li>Click <strong>Validate</strong>.</li>
                                <li>Click <strong>Close</strong>.</li>
                                <li>Click <strong>Save</strong>.</li>
                            </ol>
                        </section>
                        <hr>

<!-- ########## Define the Tracking Fields ########## -->
                        <section>
                            <h2 >Define the Tracking Fields</h2>
                            <ol>
                                <li>
                                    <p>
                                        In the <strong>Integration</strong> canvas, you should see an error icon
                                            <img src="img/error.png" alt="Error icon" style="height: 15px; width: 15px;"/>
                                            next to the <strong>Last Saved</strong> field.
                                    </p>
                                    <p>
                                        The icon shows the number of errors you need to fix in your integration. You should have
                                        one error. To fix this error you need to add business tracking identifiers.
                                    </p>
                                </li>
                                <li><p>On the <strong>Integration</strong> canvas, click <img src="img/more-actions.png" alt="Actions icon" style="height: 15px; width: 15px;"/>, and then select <strong>Tracking</strong>.</p>
                                    <p><img src="img/screenshots/ERP/tracking.png" alt="Tracking selection" style="width: 200px;"/></p>
                                </li>
                                <li><p>In the <strong>Business Identifiers for Tracking</strong> dialog, from the <strong>Source</strong> section, select <strong>StartTime</strong>, and then click <img src="img/right-arrow.png" alt="Edit icon" style="height: 15px; width: 15px;"/>.</p>
                                    <p>The selected field appears in the <strong>Tracking Fields</strong> table. The <strong>StartTime</strong> field is marked as <strong>Primary</strong>.</p>
                                </li>
                                <li>
                                    <p>Click <strong>Save</strong>.</p>
                                    <p>Notice there are no errors.</p>
                                </li>
                                <li>On the <strong>Integration</strong> canvas, click <strong>Save</strong>, and then click <strong>Close</strong>.</li>
                            </ol>
                        </section>
                        <hr>

<!-- ########## Create the Integration ########## -->
                        <section>
                            <h2>Create the ERP Bulk Extract Callback Integration</h2>
                            <ol>
                                <li>On the <strong>Home</strong> page, click <strong>Integrations</strong>, and then click <strong>Integrations</strong>.</li>
                                <li>On the <strong>Integrations</strong> page, click <strong>Create</strong>.</li>
                                <li>In the <strong>Select an Integration Style</strong> dialog, select <strong>App Driven Orchestration</strong>.</li>
                                <li>Click <strong>Select</strong>.</li>
                                <li>In the <strong>Create New Integration</strong> dialog, configure the integration:
                                    <ol type="a">
                                        <li><p><strong>What do you want to call your integration?</strong></p>
                                            <div data-bind="attr: {style: user_number() ? 'display:initial' : 'display:none'}">  
                                                <p>  
                                                    Enter <code class="allow-copy">
                                                        <span>ERP Bulk Extract Callback
                                                            <em data-bind="text: user_number() ? user_number() : 'Enter User Number above.'"></em>                                      
                                                        </span>
                                                    </code>
                                                </p>
                                            </div>
                
                                            <div data-bind="attr: {style: user_number() ? 'display:none' : 'display:initial'}">
                                                <p class="warning-text">
                                                    <a style="color: #e3503c" href="#userNumber">
                                                        Enter your User Number to specify your unique integration name.
                                                    </a>
                                                </p>
                                            </div>        
                                        </li>
                                        <li>
                                            <p>In the <strong>What does this integration do?</strong> field, enter:</p>
                                            <p><code class="allow-copy"><span>This integration is triggered when it receives a callback from the ERP Bulk Extract integration. When it receives the callback, it downloads the extract, and uploads it to an FTP server.</span></code></p>
                                        </li>
                                    </ol>
                                </li>
                                <li>Click <strong>Create</strong>.</li>
                            </ol>
                        </section>
                        <hr>


<!-- ########## Create the Trigger ########## -->
                        <section>
                            <h2>Create the ERP Cloud Callback Trigger</h2>
                            <ol>
                                <li>Hover over <strong>START</strong> and click <img src="img/add.png" alt="Add icon" style="height: 15px; width: 15px;"/>.</li>
                                <li>Begin typing <code class="allow-copy"><span>ERP Cloud Callback</span></code> in the <strong>Search</strong> field to find the connection to your ERP Cloud Callback.</li>
                                <li>
                                    <p>Select the connection named <code class="allow-copy"><span>ERP Cloud Callback</span></code>.</p>
                                    <p>The <strong>Configure SOAP Endpoint</strong> wizard appears.</p>
                                </li>
                                <li>Name your endpoint <code class="allow-copy"><span>BulkExtractCallback</span></code>.</li>
                                <li>
                                    <p>In the <strong>What does this endpoint do?</strong> field, enter:</p>
                                    <p><code class="allow-copy"><span>This endpoint defines an ERP Cloud callback.</span></code></p>
                                </li>
                                <li>Click <strong>Next</strong>.</li>
                                <li>On the <strong>Operations</strong> page, from the <strong>Disable SOAP Action Validation</strong> options, select <strong>No</strong>.</li>
                                <li>Click <strong>Next</strong>.</li>
                                <li>On the <strong>Callback Operation</strong> page, from the <strong>type of response expected</strong> options, select <strong>No Response</strong>.</li>
                                <li>Click <strong>Next</strong>.</li>
                                <li>On the <strong>Headers</strong> page, from the <strong>Do you want to configure headers for this endpoint?</strong> options, select <strong>No</strong>.</li>
                                
                                <li>
                                    <p>Click <strong>Next</strong>.</p>
                                    <p>A summary of the properties you configured appears.</p>
                                </li>
                                <li>Review the summary and click <strong>Done</strong>.</li>
                                <li>
                                    <p>On the <strong>Integration</strong> canvas, from the <strong>Layout</strong> list, select <strong>Horizontal</strong>.</p>
                                    <img src="img/screenshots/integration/horizontal-layout.png" width="600px"/>
                                </li>
                                <li>Click <strong>Save</strong>.</li>

                            </ol>
                        </section>
                        <hr>

 <!-- ########## CREATE THE DOWNLOAD ACTIVITY ########## -->
                        <section>
                            <h2>Create the Download Activity </h2>
                            <ol>
                                <li>Hover over the outgoing arrow for the <strong>BulkExtractCallback</strong> activity and click
                                    <img src="img/add.png" alt="Add icon" style="height: 15px; width: 15px;"/>.
                                </li>
                                <li>In the <strong>Search</strong> field, begin typing <code class="allow-copy"><span>ERP Cloud Integration Service</span></code> to find your connection.</li>
                                <li>
                                    <p>Select the connection named <code class="allow-copy"><span>ERP Cloud Integration Service</span></code>.</p>
                                    <p>The <strong>Configure SOAP Endpoint<strong> wizard appears.</p>
                                </li>

                                <li>Name your endpoint <code class="allow-copy"><span>ownloadFile</span></code>.</li>
                                <li>Click <strong>Next</strong>.</li>
                                <li>
                                    <p>On the <strong>Operations</strong> page, from the <strong>Operation</strong> list, select <strong>getDocumentsForFilePrefix</strong>.</p>
                                    <p>Be careful to select the correct operation as many of them have similiar names.</p>
                                    <p><img src="img/screenshots/integration/getDocumentsForFilePrefix.png" alt="GetDocuments For File Prefix" style="width: 300px;"/></p>
                                </li>
                                <li>Click <strong>Next</strong>.</li>
                                <li><p>On the <strong>Headers</strong> page, select <strong>Accept attachments in response</strong>.</p>
                                    <p><i>Note</i>: The SOAP adapter allows rich capability to accept content as an attachment, instead of base64-encoded data.</p>
                                    <p>If you don't see this option, it is likely you selected the wrong operation. Click <stong>Back</stong> and verify you have the correct operation.</p>
                                </li>
                                <li>
                                    <p>Click <strong>Next</strong>.</p>
                                    <p>A summary of the properties you configured appears.</p>
                                </li>
                                <li>Review the summary and click <strong>Done</strong>.</li>
                                <li>Click <strong>Save</strong>.</li>
                            </ol>

<!-- ########## Define the Data Mapping ########## -->
                            <h3>Define the Data Mapping</h3>
                            <p>A Map action named <strong>Map to DownloadFile</strong> is automatically created. We'll define this data mapping.</p>
                            <ol>
                                <li>Select the <strong>Map to DownloadFile</strong> action.</li>
                                <li><p>Click <img src="img/edit.png" alt="Edit icon" style="height: 15px; width: 15px;"/>.</p>
                                    <p>The <strong>Data Mapping</strong> page appears.</p>
                                </li>
                                <li>In the <strong>Target</strong> section, expand the <strong>OutboundSOAPRequestDocument</strong>, <strong>Body</strong>, then <strong>getDocumentsForFilePrefix</strong> elements.</li>
                                <li><p>Click the <strong>Toggle Functions</strong> button located in the <strong>Target</strong> section toolbar.</p>
                                    <p><img src="img/screenshots/ERP/toggle-functions.png" width="500px"/></p>
                                </li>
                                <li>In the <strong>Component</strong> palette, expand the <strong>String</strong> node.</li>
                                <li>Drag the <strong>concat</strong> function and drop it on <strong>prefix</strong> element in the <strong>Target</strong> section.</li>
                                <li><p>In the <strong>Expression</strong> window, edit the <code>concat</code> function to use the following parameters:</p>
                                    <ol type="a">
                                        <li><code class="allow-copy"><span>&quot;ESS_&quot;</span></code></li>
                                        <li><code class="allow-copy"><span>//requestId</span></code></li>
                                        <li><code class="allow-copy"><span>&quot;_BIPReport0&quot;</span></code></li>
                                    </ol>
                                    <p>The complete expression should read: <code class="allow-copy"><span>concat ( &quot;ESS_&quot;, //requestId, &quot;_BIPReport0&quot; )</span></code></p>
                                </li>
                                <li>Map the <strong>account</strong> element to the following expression: <code class="allow-copy"><span>&quot;fin$/payables$/export$&quot;</span></code></li>
                                <li>Map the <strong>comments</strong> element to the following expression: <code class="allow-copy"><span>concat ( &quot;processedby=&quot;, //requestId )</span></code></li>
                                <li>Click <strong>Validate</strong>.</li>
                                <li>Click <strong>Close</strong>.</li>
                                <li>Click <strong>Save</strong>.</li>
                            </ol>
                        </section>
                        <hr>

<!-- ########## CREATE THE WRITE EXTRACT ACTIVITY  ########## -->
                        <section>
                            <h2>Create the Write Extract Activity</h2>
                            <ol>
                                <li>Hover over the outgoing arrow for the <strong>DownloadFile</strong> activity and click
                                    <img src="img/add.png" alt="Add icon" style="height: 15px; width: 15px;"/>.
                                </li>
                                <li>In the <strong>Search</strong> field, begin typing <code class="allow-copy"><span>FTP File Server</span></code> to find your connection.</li>
                                <li>
                                    <p>Select the connection named <code class="allow-copy"><span>FTP File Server</span></code>.</p>
                                    <p>The <strong>Configure Oracle Adapter Endpoint Configuration Wizard</strong> appears.</p>
                                </li>

                                <li>Name your endpoint <code class="allow-copy"><span>WriteExtract</span></code>.</li>
                                <li>Click <strong>Next</strong>.</li>
                                <li><p>On the <strong>Operations</strong> page, configure the following properties:</p>
                                    <ol type="a">
                                        <li>From the <strong>Select Operation</strong> list, select <strong>Write File</strong>.</li>
                                        <li>
                                            In the <strong>Output Directory</strong> field, enter
                                            <div data-bind="attr: {style: user_number() ? 'display:initial' : 'display:none'}">  
                                                <p>
                                                    <code class="allow-copy"><span>&#x2f;upload&#x2f;public_ftp&#x2f;<em data-bind="text: user_number() ? user_number : 'Enter User Number above.'"></em></span></code>
                                                </p>
                                            </div>
                
                                            <div data-bind="attr: {style: user_number() ? 'display:none' : 'display:initial'}">
                                                <p class="warning-text">
                                                    <a style="color: #e3503c" href="#userNumber">
                                                        Enter your User Number to specify your unique output directory.
                                                    </a>
                                                </p>
                                            </div> 
                                        </li>
                                        <li>In the <strong>File Name Pattern</strong> field, enter
                                            <div data-bind="attr: {style: user_number() ? 'display:initial' : 'display:none'}">  
                                                <p>
                                                    <code class="allow-copy"><span>PayablesExtract<em data-bind="text: user_number() ? user_number() : 'Enter User Number above.'"></em></span></code> 
                                                </p>
                                            </div>
                
                                            <div data-bind="attr: {style: user_number() ? 'display:none' : 'display:initial'}">
                                                <p class="warning-text">
                                                    <a style="color: #e3503c" href="#userNumber">
                                                        Enter your User Number to specify your unique file name pattern.
                                                    </a>
                                                </p>
                                            </div>        
                                        </li>
                                    </ol>
                                </li>
                                <li>Click <strong>Next</strong>.</li>
                                <li><p>On the <strong>Schema</strong> page, from the <strong>Specify the structure for the contents of the file</strong> options, select <strong>No</strong>.</p>
                                    <p>For the purpose of this lab we will write the complete extract.</p>
                                </li>
                                <li>
                                    <p>Click <strong>Next</strong>.</p>
                                    <p>A summary of the properties you configured appears.</p>
                                </li>
                                <li>Review the summary and click <strong>Done</strong>.</li>
                                <li>Click <strong>Save</strong>.</li>
                            </ol>

<!-- ########## Define the Data Mapping ########## -->
                            <h3>Define the Data Mapping</h3>
                            <p>A Map action named <strong>Map to WriteExtract</strong> is automatically created. We'll define this data mapping.</p>
                            <ol>
                                <li>Select the <strong>Map to WriteExtract</strong> action.</li>
                                <li><p>Click <img src="img/edit.png" alt="Edit icon" style="height: 15px; width: 15px;"/>.</p>
                                    <p>The <strong>Data Mapping</strong> page appears.</p>
                                </li>
                                <li>In the <strong>Source</strong> section, expand <strong>$DownloadFile</strong>, then expand the <strong>getDocumentsForFilePrefixResponse</strong>, and then expand <strong>result</strong>.</li>
                                <li>In the <strong>Target</strong> section, expand <strong>ICSFile</strong>.</li>
                                <li>Map the <strong>Content</strong> element in the <strong>Source</strong> section to the <strong>FileReference</strong> element in the <strong>Target</strong> section.</li>
                                <li>Click <strong>Validate</strong>.</li>
                                <li>Click <strong>Close</strong>.</li>
                                <li>Click <strong>Save</strong>.</li>
                            </ol>
                        </section>
                        <hr>

 <!-- ########## Define the Tracking Fields ########## -->
                        <section>
                            <h2 >Define the Tracking Fields</h2>
                            <ol>
                                <li>
                                    <p>
                                        In the <strong>Integration</strong> canvas, you should see an error icon
                                            <img src="img/error.png" alt="Error icon" style="height: 15px; width: 15px;"/>
                                            next to the <strong>Last Saved</strong> field.
                                    </p>
                                    <p>
                                        The icon shows the number of errors you need to fix in your integration. You should have
                                        one error. To fix this error you need to add business tracking identifiers.
                                    </p>
                                </li>
                                <li><p>On the <strong>Integration</strong> canvas, click <img src="img/more-actions.png" alt="Actions icon" style="height: 15px; width: 15px;"/>, and then select <strong>Tracking</strong>.</p>
                                    <p><img src="img/screenshots/ERP/tracking.png" alt="Tracking selection" style="width: 200px;"/></p>
                                </li>
                                <li><p>In the <strong>Business Identifiers for Tracking</strong> dialog, from the <strong>Source</strong> section, select <strong>requestId</strong>, and then click <img src="img/right-arrow.png" alt="Edit icon" style="height: 15px; width: 15px;"/>.</p>
                                    <p>The selected field appears in the <strong>Tracking Fields</strong> table. The <strong>requestId</strong> field is marked as <strong>Primary</strong>.</p>
                                </li>
                                <li>
                                    <p>Click <strong>Save</strong>.</p>
                                    <p>Notice there are no errors.</p>
                                </li>
                                <li>On the <strong>Integration</strong> canvas, click <strong>Save</strong>, and then click <strong>Close</strong>.</li>
                            </ol>
                        </section>
                        <hr>

<!-- ########## Activate the Integration ########## -->
                        <section>
                            <h2>Activate the ERP Bulk Extract Callback Integration</h2>
                            <ol>
                                <li>
                                    <p>On the <strong>Integrations</strong> page, locate your integration and hover over it.</p>
                                    <div data-bind="attr: {style: user_number() ? 'display:initial' : 'display:none'}">  
                                        <p>The name of your integration is <code>ERP Bulk Extract Callback <em data-bind="text:user_number() || 'your_user_number'"></em></code>.</p>
                                    </div>
                                    <div data-bind="attr: {style: user_number() ? 'display:none' : 'display:initial'}">
                                        <p class="warning-text">
                                            <a style="color: #e3503c" href="#userNumber">
                                                Enter your User Number to get your unique integration name.
                                            </a>
                                        </p>
                                    </div>

                                    <p>When you hover over the integration, a set of actions appear in the <strong>Status</strong> column. </p>
                                </li>
                                <li>Click <img src="img/activate.png" alt="Activate icon" style="height: 15px; width: 15px;"/>.</li>
                                <li>Deselect <strong>Contribute integration mappings to Oracle Recommends</strong>.</li>
                                <li>
                                    <p>Select <strong>Enable Tracing</strong>, and then select <strong>Include Payload</strong>.</p>
                                    <p>Typically these options are disabled in production environments, but we'll enable them for the purpose of this lab.</p>
                                </li>
                                <li>
                                    <p>Click <strong>Activate</strong>.</p>
                                    <p>The activation will complete in a few seconds. If the activation succeeds, a confirmation
                                        message appears at the top of the page, and the status will change to <span style="color:#86BD66;">&#x25CF;</span> Active.</p>
                                </li>

                                <li>Click <img src="img/how-to-run.png" alt="How to run icon" style="height: 15px; width: 15px;"/>.</li>
                                <li>Copy the link in the <strong>WSDL URL</strong> without the <code>?wsdl</code> at the end.</li>

                            </ol>
                        </section>
                        <hr>

<!-- ########## MAP THE CALLBACK URL ########## -->
                        <section>
                            <h2>Map the Callback URL</h2>
                            <p> </p>
                            <ol>
                                <li><p>On the <strong>Integrations</strong> page, locate your ERP Bulk Extract integration and open it.</p>
                                <div data-bind="attr: {style: user_number() ? 'display:initial' : 'display:none'}">  
                                    <p>The name of your integration is <code>ERP Bulk Extract <em data-bind="text:user_number() || 'your_user_number'"></em></code>.</p>
                                </div>
                                <div data-bind="attr: {style: user_number() ? 'display:none' : 'display:initial'}">
                                    <p class="warning-text"><a style="color: #e3503c" href="#userNumber">Enter
                                        your User Number to get your unique integration name.</a></p>
                                </div>
                                <li>Select the <strong>Map to InitiateExtract</strong> action.</li>
                                <li><p>Click <img src="img/edit.png" alt="Edit icon" style="height: 15px; width: 15px;"/>.</p>
                                    <p>The <strong>Data Mapping</strong> page appears.</p>
                                </li>
                                <li>In the <strong>Target</strong> section,  select the <strong>callbackURL</strong> element.</li>
                                <li>In the <strong>Expression</strong> window, enter a string with the callback URL you copied before.</li>
                                <li>Click <strong>Validate</strong>.</li>
                                <li>Click <strong>Close</strong>.</li>
                                <li>Click <strong>Save</strong>.</li>
                            </ol>
                        </section>
                        <hr>

<!-- ########## Activate the Integration ########## -->
                        <section>
                            <h2>Activate the ERP Bulk Extract Integration</h2>
                            <ol>
                                <li>
                                    <p>On the <strong>Integrations</strong> page, locate your integration and hover over it.</p>
                                    <div data-bind="attr: {style: user_number() ? 'display:initial' : 'display:none'}">  
                                        <p>The name of your integration is <code>ERP Bulk Extract <em data-bind="text:user_number() || 'your_user_number'"></em></code>.</p>
                                    </div>
                                    <div data-bind="attr: {style: user_number() ? 'display:none' : 'display:initial'}">
                                        <p class="warning-text">
                                            <a style="color: #e3503c" href="#userNumber">
                                                Enter your User Number to get your unique integration name.
                                            </a>
                                        </p>
                                    </div>

                                    <p>When you hover over the integration, a set of actions appear in the <strong>Status</strong> column. </p>
                                </li>
                                <li>Click <img src="img/activate.png" alt="Activate icon" style="height: 15px; width: 15px;"/>.</li>
                                <li>Deselect <strong>Contribute integration mappings to Oracle Recommends</strong>.</li>
                                <li>
                                    <p>Select <strong>Enable Tracing</strong>, and then select <strong>Include Payload</strong>.</p>
                                    <p>Typically these options are disabled in production environments, but we'll enable them for the purpose of this lab.</p>
                                </li>
                                <li>
                                    <p>Click <strong>Activate</strong>.</p>
                                    <p>The activation will complete in a few seconds. If the activation succeeds, a confirmation
                                        message appears at the top of the page, and the status will change to <span style="color:#86BD66;">&#x25CF;</span> Active.</p>
                                </li>
                            </ol>
                        </section>
                        <hr>

<!-- ########## RUN THE BULK EXTRACT INTEGRATION ########## -->
                        <section>
                            <h2 >Run the ERP Bulk Extract Integration</h2>
                            <p> </p>
                            <ol>
                                <li>Click <img src="img/how-to-run.png" alt="How to run icon" style="height: 15px; width: 15px;"/>.</li>
                                <li><p>Click <strong>Submit Now</strong> twice.</p>
                                    <p>A confirmation message with a link to track instance appears.</p>
                                </li>
                                <li>From the <strong>Navigation</strong> menu, select <strong>Monitoring</strong>, then select <strong>Integrations</strong>, and then select <strong>Tracking</strong>.</li>
                                <li><p>Click the job and confirm that the flow was successfully completed.</p>
                                    <p>The flow is colored in green to indicate that it ran successfully.</p>
                                </li>
                            </ol>
                        </section>
                        <hr>

<!-- ########## VERIFY ########## -->
                        <section>
                            <h2 >Verify</h2>
                            <p> </p>
                            <ol>
                                <li><p>Log in to the ERP Cloud Service using these values:</p>
                                    <ol type="a">
                                        <li><strong>URL</strong>: <code class="allow-copy"><span>https://your_host/homePage/faces/AtkHomePageWelcome</span></code></li>
                                        <li>
                                            <div data-bind="attr: {style: selectedAppEnvironment() ? 'display:initial' : 'display:none'}">
                                                <strong>User name</strong>: <code class="allow-copy"><span
                                                    data-bind="text: selectedAppEnvironment() ? selectedAppEnvironment().usernamePrefix : 'Select the ERP Cloud Environment above'"></span></code>
                                            </div>
                                            <div data-bind="attr: {style: selectedAppEnvironment() ? 'display:none' : 'display:initial'}">
                                                <p class="warning-text"><a style="color: #e3503c" href="#userNumberInput">Select your ERP Cloud environment in the Before You Begin section to get a customized user.</a></p>
                                            </div>
                                        </li>
                                        <li><strong>Password</strong>: use the credentials listed in the file <code>ERPIntegrationWorkshopEnv.txt</code></li>
                                    </ol>
                                    <p>Notice that the scheduled processes are specific to user. To check scheduled process, log in with the
                                        same user that you used to create ERP connection.</p>
                                </li>
                                <li>Select the <strong>Tools</strong> tab.</li>
                                <li>Click <strong>Scheduled Processes</strong>.</li>
                                <li>Verify that the <strong>Payables transaction</strong> job completed successfully, and write down the process ID.</li>
                                <li>In <strong>Oracle Integration</strong>, in the Tracking page, search for the process ID you wrote down.</li>
                                <li><p>Click the instance and confirm that the flow was successfully completed.</p>
                                    <p>The flow is colored in green to indicate that it ran successfully.</p>
                                </li>
                                <li><p>Log in to the FTP server and verify that the payables transaction extract file exists.</p>
                                    <ul>
                                        <li><strong>FTP URL</strong>: <code class="allow-copy"><span><em data-bind="text: selectedFTPEnvironment() ? selectedFTPEnvironment().url : 'Select the FTP Environment above'"></em></span></code></li>
                                        <li><strong>FTP User Name</strong>: <code class="allow-copy"><span><em data-bind="text: selectedFTPEnvironment() ? selectedFTPEnvironment().usernamePrefix : 'Select the FTP Environment above'"></em></span></code></li>
                                        <li><strong>Password:</strong> will be provided during the training session.</li>
                                    </ul>
                                </li>
                                <li>Download the extract file from the FTP server and verify it.</li>
                            </ol>
                        </section>
                        <hr>

<!-- ########## Completion ########## -->
                        <section>
                            <h2>Congratulations!</h2>
                            <p><strong>Congratulations!</strong> You have finished your integration flow.</p>
                        </section>

                    </article>
                </div>
                <br class="clearfloat">
                <br class="clearfloat">
            </div>
        </div>
        <!--close main-->
        <!--end content-->
        <div class="footer-container ">
            <div>
                <img src="img/o.png" align="right" style="padding:0 40px 0 0;" alt="Oracle">
                <footer class="footer-list">
                    <ul>
                        <li><a style="color: #fefffe;" href="https://www.oracle.com/corporate/index.html" target="_blank">About Oracle</a></li>
                        <li><a style="color: #fefffe;" href="https://www.oracle.com/us/corporate/contact/index.html" target="_blank">Contact Us</a></li>
                        <li><a style="color: #fefffe;" href="https://www.oracle.com/us/legal/index.html" target="_blank">Legal Notices</a></li>
                        <li><a style="color: #fefffe;" href="https://www.oracle.com/us/legal/terms/index.html" target="_blank">Terms of Use</a></li>
                        <li><a style="color: #fefffe;" href="https://www.oracle.com/us/legal/privacy/index.html" target="_blank">Your Privacy Rights</a></li>
                        <li><a style="color: #fefffe;" href="https://twitter.com/hashtag/OOW19?src=hash" target="_blank">#OOW19</a></li>
                        <li><a style="color: #fefffe;" href="https://www.oracle.com/pls/topic/lookup?ctx=cpyr&id=en">Copyright  2019-2020, Oracle and/or its affiliates. All rights reserved.</a></li>
                    </ul>
                </footer>
            </div>
            <!--script type="text/javascript" src="https://www.oracleimg.com/us/assets/metrics/ora_docs.js"></script-->
        </div>
        <!-- OBE Dialog Box code 10/15/2018 -->
        <!-- DO NOT ALTER THE CODE BELOW   -->
        <!--div id="lpModal" class="modal"-->
        <!-- Modal hdr and body -->
        <!--div id="obe_dialog" class="modal-content">
            <div class="modal-header">
                <a href="#" class="close">
                    <span class="close">&times;</span>
                </a>
                <h1>Associated Learning Paths</h1>
            </div>
            <div id="dialog-content" >
            </div>
            <div id="dialog-close" class="closeBtn">
                <a href="#" class="close2">
                    <p class="close2">
                        <span>&nbsp;&nbsp;View&nbsp;&nbsp;</span>
                    </p>
                </a>
            </div>
        </div>
        </div-->
        <!-- END OBE Dialog Box code -->
    </body>
</html>
